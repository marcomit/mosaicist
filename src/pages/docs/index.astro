---
import Layout from '../../components/Layout.astro';
import "../../styles/global.css";


const currentPath = Astro.url.pathname;
---

<Layout title="Documentation - Mosaic Framework" description="Complete guide to building clean architecture Flutter applications with Mosaic">
  <main class="min-h-screen bg-cream text-charcoal">
    <!-- Sketchy Header -->
    <header class="relative px-6 py-16 bg-slate-50 border-b-2 border-charcoal">
      <div class="max-w-7xl mx-auto">
        <div class="flex items-center gap-8 mb-8">
          <!-- Mini Logo -->
          <div class="mini-logo">
            <div class="mini-fragment mini-left"></div>
            <div class="mini-fragment mini-center"></div>
            <div class="mini-fragment mini-right"></div>
          </div>
          
          <div>
            <h1 class="text-4xl md:text-5xl font-bold text-charcoal tracking-wide font-styrene">
              Documentation
            </h1>
            <p class="text-lg text-slate-600 font-light mt-2 font-tiempos">
              Master the art of modular Flutter architecture with Mosaic
            </p>
          </div>
        </div>
        
        <!-- Navigation Pills -->
        <nav class="flex flex-wrap gap-3">
          <a href="/docs" class="nav-pill active">Overview</a>
          <a href="/docs/installation" class="nav-pill">Installation</a>
          <a href="/docs/modules" class="nav-pill">Architecture</a>
        </nav>
      </div>
    </header>

    <div class="max-w-7xl mx-auto px-6 py-8">
      <div class="grid lg:grid-cols-4 gap-12">
        <!-- Sidebar Navigation -->
        <aside class="lg:col-span-1">
          <nav class="sticky top-8 space-y-6">
            <!-- Quick Start -->
            <div class="nav-section">
              <h3 class="text-lg font-semibold text-charcoal mb-4 flex items-center gap-3 font-styrene">
                <div class="nav-icon quick-start-icon"></div>
                Getting started
              </h3>
              <ul class="space-y-1 mt-2">
                <li><a href="/docs/installation" class={`nav-link ${currentPath === '/docs/installation' ? 'active' : ''}`}>Installation</a></li>
                <li><a href="/docs/project-structure" class={`nav-link ${currentPath === '/docs/project-structure' ? 'active' : ''}`}>Project structure</a></li>
              </ul>
            </div>

            <!-- Architecture -->
            <div class="nav-section">
              <h3 class="text-lg font-semibold text-charcoal mb-4 flex items-center gap-3 font-styrene">
                <div class="nav-icon architecture-icon"></div>
                Architecture
              </h3>
              <ul class="space-y-1">
                <li><a href="/docs/modules" class={`nav-link ${currentPath === '/docs/modules' ? 'active' : ''}`}>Modules</a></li>
                <li><a href="/docs/events" class={`nav-link ${currentPath === '/docs/events' ? 'active' : ''}`}>Events</a></li>
                <li><a href="/docs/router" class={`nav-link ${currentPath === '/docs/router' ? 'active' : ''}`}>Router</a></li>
                <li><a href="/docs/ui-injection" class={`nav-link ${currentPath === '/docs/ui-injection' ? 'active' : ''}`}>UI Injection</a></li>
                <li><a href="/docs/dependency-injection" class={`nav-link ${currentPath === '/docs/dependency-injection' ? 'active' : ''}`}>Dependency Injection</a></li>
                <li><a href="/docs/signals" class={`nav-link ${currentPath === '/docs/signals' ? 'active' : ''}`}>Signals</a></li>
                <li><a href="/docs/logger" class={`nav-link ${currentPath === '/docs/logger' ? 'active' : ''}`}>Logger</a></li>
                <li><a href="/docs/multithreading" class={`nav-link ${currentPath === '/docs/multithreading' ? 'active' : ''}`}>multithreading</a></li>
              </ul>
            </div>

            <!-- CLI -->
            <div class="nav-section">
              <h3 class="text-lg font-semibold text-charcoal mb-4 flex items-center gap-3 font-styrene">
                <div class="nav-icon architecture-icon"></div>
               CLI 
              </h3>
              <ul class="space-y-1">
                <li><a href="/docs/cli" class={`nav-link ${currentPath === '/docs/cli' ? 'active' : ''}`}>Getting started</a></li>
                <li><a href="/docs/profiles" class={`nav-link ${currentPath === '/docs/profiles' ? 'active' : ''}`}>Profiles</a></li>
              </ul>
            </div>
            <!-- Guides -->
            <div class="nav-section">
              <h3 class="text-lg font-semibold text-charcoal mb-4 flex items-center gap-3 font-styrene">
                <div class="nav-icon guides-icon"></div>
                Guides
              </h3>
              <ul class="space-y-1">
                <li><a href="/docs/guides/creating-modules" class={`nav-link ${currentPath === '/docs/guides/creating-modules' ? 'active' : ''}`}>Creating Modules</a></li>
                <li><a href="/docs/guides/event-patterns" class={`nav-link ${currentPath === '/docs/guides/event-patterns' ? 'active' : ''}`}>Event Patterns</a></li>
                <li><a href="/docs/guides/testing" class={`nav-link ${currentPath === '/docs/guides/testing' ? 'active' : ''}`}>Testing</a></li>
                <li><a href="/docs/guides/best-practices" class={`nav-link ${currentPath === '/docs/guides/best-practices' ? 'active' : ''}`}>Best Practices</a></li>
              </ul>
            </div>

            <!-- API Reference -->
            <div class="nav-section">
              <h3 class="text-lg font-semibold text-charcoal mb-4 flex items-center gap-3 font-styrene">
                <div class="nav-icon api-icon"></div>
                API Reference
              </h3>
              <ul class="space-y-1">
                <li><a href="/docs/api/core" class={`nav-link ${currentPath === '/docs/api/core' ? 'active' : ''}`}>Core Classes</a></li>
                <li><a href="/docs/api/utilities" class={`nav-link ${currentPath === '/docs/api/utilities' ? 'active' : ''}`}>Utilities</a></li>
                <li><a href="/docs/api/widgets" class={`nav-link ${currentPath === '/docs/api/widgets' ? 'active' : ''}`}>Widgets</a></li>
              </ul>
            </div>

            <!-- Hand-drawn decoration -->
            <div class="mt-12">
              <svg width="120" height="40" viewBox="0 0 120 40" class="opacity-30">
                <path d="M10 20 Q30 10 60 20 T110 15" stroke="#FB923C" stroke-width="2" fill="none" stroke-linecap="round"/>
                <circle cx="20" cy="18" r="2" fill="#FB923C"/>
                <circle cx="50" cy="22" r="1.5" fill="#60A5FA"/>
                <circle cx="90" cy="16" r="2.5" fill="#4ADE80"/>
              </svg>
            </div>
          </nav>
        </aside>

        <!-- Main Content -->
        <main class="lg:col-span-3">
          <article class="prose-mosaic">
            <!-- Hero Section -->
            <div class="mb-12">
              <h1>Welcome to Mosaic</h1>
              <p class="text-xl text-slate-600 leading-relaxed">
                Mosaic is a powerful, modular Flutter architecture that enables clean separation of features using dynamic modules, internal event systems, UI injection, and centralized build orchestration.
              </p>
              
              <!-- Quick stats with sketchy styling -->
              <div class="grid grid-cols-2 md:grid-cols-4 gap-4 my-8">
                <div class="stat-box">
                  <div class="stat-icon">üß©</div>
                  <div class="stat-title">Modular</div>
                  <div class="stat-desc">Independent modules</div>
                </div>
                <div class="stat-box">
                  <div class="stat-icon">‚ö°</div>
                  <div class="stat-title">Event-Driven</div>
                  <div class="stat-desc">Decoupled communication</div>
                </div>
                <div class="stat-box">
                  <div class="stat-icon">üéØ</div>
                  <div class="stat-title">Type-Safe</div>
                  <div class="stat-desc">Strongly typed events</div>
                </div>
                <div class="stat-box">
                  <div class="stat-icon">üß™</div>
                  <div class="stat-title">Testable</div>
                  <div class="stat-desc">Built for testing</div>
                </div>
              </div>
            </div>
            Mosaic follows a modular architecture pattern where each feature is encapsulated in its own module. Here's how it works:

            <div class="architecture-visual">
              <svg width="100%" height="300" viewBox="0 0 600 300" class="my-8">
                <!-- Module A -->
                <g class="module-group">
                  <rect x="50" y="50" width="120" height="80" fill="#FEF3C7" stroke="#FB923C" stroke-width="2" class="module-box"/>
                  <text x="110" y="75" text-anchor="middle" class="module-label">Module A</text>
                  <text x="110" y="95" text-anchor="middle" class="module-sublabel">Home, Dashboard</text>
                </g>
                
                <!-- Module B -->
                <g class="module-group">
                  <rect x="240" y="50" width="120" height="80" fill="#DBEAFE" stroke="#60A5FA" stroke-width="2" class="module-box"/>
                  <text x="300" y="75" text-anchor="middle" class="module-label">Module B</text>
                  <text x="300" y="95" text-anchor="middle" class="module-sublabel">Profile, Settings</text>
                </g>
                
                <!-- Module C -->
                <g class="module-group">
                  <rect x="430" y="50" width="120" height="80" fill="#F3E8FF" stroke="#A78BFA" stroke-width="2" class="module-box"/>
                  <text x="490" y="75" text-anchor="middle" class="module-label">Module C</text>
                  <text x="490" y="95" text-anchor="middle" class="module-sublabel">Chat, Messages</text>
                </g>

                <!-- Event System -->
                <ellipse cx="300" cy="200" rx="180" ry="40" fill="#F9FAFB" stroke="#2B2B2B" stroke-width="2"/>
                <text x="300" y="195" text-anchor="middle" class="event-label">Event System</text>
                <text x="300" y="210" text-anchor="middle" class="event-sublabel">Router ‚Ä¢ Events ‚Ä¢ Injector ‚Ä¢ Logger</text>

                <!-- Connection lines -->
                <path d="M110 130 Q150 160 220 200" stroke="#FB923C" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                <path d="M300 130 L300 160" stroke="#60A5FA" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                <path d="M490 130 Q450 160 380 200" stroke="#A78BFA" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
              </svg>
            </div>

            Each module can communicate with others through the centralized event system, inject UI components into other modules, and maintain its own internal navigation stack.


            <div class="next-steps-grid">
              <a href="/docs/installation" class="next-step-card">
                <div class="card-icon">üì¶</div>
                <h3>Installation</h3>
                <p>Complete setup guide with code examples</p>
              </a>
              
              <a href="/docs/quick-start" class="next-step-card">
                <div class="card-icon">üöÄ</div>
                <h3>Quick Start</h3>
                <p>Build your first modular app in 5 minutes</p>
              </a>
              
              <a href="/docs/architecture" class="next-step-card">
                <div class="card-icon">üèóÔ∏è</div>
                <h3>Architecture</h3>
                <p>Deep dive into modular design patterns</p>
              </a>
              
              <a href="/docs/examples" class="next-step-card">
                <div class="card-icon">üí°</div>
                <h3>Examples</h3>
                <p>Real-world applications and use cases</p>
              </a>
            </div>

          </article>
        </main>
      </div>
    </div>
  </main>

  <style>
    /* Custom styles for documentation */
    .stat-box {
      background: var(--slate-50);
      border: 2px solid var(--slate-200);
      border-radius: 8px;
      padding: 16px;
      text-align: center;
      transform: rotate(-0.5deg);
      transition: transform 0.2s ease;
    }

    .stat-box:nth-child(even) {
      transform: rotate(0.5deg);
    }

    .stat-box:hover {
      transform: rotate(0deg) translateY(-2px);
    }

    .stat-icon {
      font-size: 2rem;
      margin-bottom: 8px;
    }

    .stat-title {
      font-weight: 600;
      color: var(--charcoal);
      font-size: 14px;
      font-family: 'Inter', sans-serif;
    }

    .stat-desc {
      font-size: 12px;
      color: var(--slate-600);
    }

    .architecture-visual {
      background: var(--slate-50);
      border: 2px solid var(--slate-200);
      border-radius: 8px;
      padding: 20px;
      margin: 2rem 0;
    }

    .module-label {
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      font-size: 14px;
      fill: var(--charcoal);
    }

    .module-sublabel {
      font-family: 'Crimson Text', serif;
      font-size: 11px;
      fill: var(--slate-600);
    }

    .event-label {
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      font-size: 14px;
      fill: var(--charcoal);
    }

    .event-sublabel {
      font-family: 'Crimson Text', serif;
      font-size: 11px;
      fill: var(--slate-600);
    }

    .next-steps-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }

    .next-step-card {
      background: var(--cream);
      border: 2px solid var(--slate-300);
      border-radius: 8px;
      padding: 24px;
      text-decoration: none;
      color: var(--charcoal);
      transform: rotate(-0.3deg);
      transition: all 0.2s ease;
    }

    .next-step-card:nth-child(even) {
      transform: rotate(0.3deg);
    }

    .next-step-card:hover {
      transform: rotate(0deg) translateY(-5px);
      box-shadow: 5px 5px 15px rgba(0,0,0,0.1);
      border-color: var(--orange-400);
    }

    .card-icon {
      font-size: 2rem;
      margin-bottom: 12px;
    }

    .next-step-card h3 {
      margin: 0 0 8px 0;
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      color: var(--charcoal);
    }

    .next-step-card p {
      margin: 0;
      font-size: 14px;
      color: var(--slate-600);
      line-height: 1.4;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .stat-box,
      .next-step-card {
        transform: rotate(0deg);
      }
      
      .next-steps-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</Layout>
